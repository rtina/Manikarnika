<nav class="fixed top-0 left-0 w-full z-50 flex items-center justify-between px-8 py-4 backdrop-blur-md bg-white/5 text-white">
    <!-- Logo -->
    <div class="flex items-center gap-2">
      <img src="images/img2.png" alt="Logo" class="w-10 h-10" />
      <span class="text-xl font-bold text-indigo-300">ManikarnikaStudio</span>
    </div>
  
    <!-- Nav Links -->
    <ul class="hidden md:flex space-x-8 font-medium">
      <li><a href="/" class="hover:text-indigo-400 transition">Home</a></li>
      <li><a href="/services" class="hover:text-indigo-400 transition">Services</a></li>
      <li><a href="/categories" class="hover:text-indigo-400 transition">Catalogue</a></li>
      <li><a href="#contact" class="hover:text-indigo-400 transition">Contact</a></li>
      </ul>
  


        <div class="flex items-center space-x-4">

          <% if(!currentUser){%>
          <!-- Call to Action Button -->
          <a href="/login" class="bg-gradient-to-r from-indigo-500 to-fuchsia-500 px-5 py-2 rounded-full font-semibold text-white hover:brightness-110 transition">
            Login/Register
          </a>
        <%}%>

          <% if(currentUser && currentUser.role === 'client'){ %>
          <!-- Profile Dropdown -->
            <div class="relative inline-block text-left">
              <!-- Profile Icon Button -->
              <button id="profileBtn" class="flex items-center justify-center w-10 h-10 rounded-full bg-gray-200 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                <img class="w-10 h-10 rounded-full" src="https://i.pravatar.cc/150?img=3" alt="User Avatar">
              </button>
              <!-- Dropdown Menu -->
              <div id="dropdownMenu" class="hidden absolute right-0 mt-2 w-40 bg-white border border-gray-200 rounded-md shadow-lg z-50">
                <a href="/client/clientProfile/<%=currentUser._id%>" class="block px-4 py-2 text-gray-700 hover:bg-indigo-100 hover:text-indigo-700 rounded-md">My Profile</a>
              </div>
            </div>
         <% } %>

        <% if (currentUser && currentUser.role === 'admin') { %>
              <!-- Admin Profile/Dropdown -->
              <div class="relative inline-block text-left">
                <!-- Admin Icon or Button -->
                <button id="adminProfileBtn" type="button" class="flex items-center justify-center w-10 h-10 rounded-full bg-yellow-200 hover:bg-yellow-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500">
                  <img class="w-10 h-10 rounded-full" src="https://i.pravatar.cc/150?img=10" alt="Admin Avatar">
                </button>
                <!-- Admin Dropdown Menu -->
                <div id="adminDropdownMenu" class="hidden absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-md shadow-lg z-50">
                  <a href="/admin/dashboard" class="block px-4 py-2 text-gray-700 hover:bg-yellow-100 hover:text-yellow-700 rounded-md">Admin Dashboard</a>
                  <a href="/admin/manage-users" class="block px-4 py-2 text-gray-700 hover:bg-yellow-100 hover:text-yellow-700 rounded-md">Manage Users</a>
                  <a href="/admin/settings" class="block px-4 py-2 text-gray-700 hover:bg-yellow-100 hover:text-yellow-700 rounded-md">Settings</a>
                </div>
              </div>
           <% } %>



    <!-- Mobile Menu (optional) -->
    <button id="menuToggle" class="md:hidden text-2xl">
      â˜°
    </button>
  </nav>
  
  

  <!-- Script for Dropdown Toggle -->
  <script>
    const profileBtn = document.getElementById('profileBtn');
    const dropdownMenu = document.getElementById('dropdownMenu');
    const adminProfileBtn = document.getElementById('adminProfileBtn');
    const adminDropdownMenu = document.getElementById('adminDropdownMenu');

// CLIENT DROPDOWN
if (profileBtn && dropdownMenu) {
  profileBtn.addEventListener('click', (e) => {
    e.stopPropagation(); // Prevents window event from firing immediately
    dropdownMenu.classList.toggle('hidden');
  });

  window.addEventListener('click', (e) => {
    if (!profileBtn.contains(e.target) && !dropdownMenu.contains(e.target)) {
      dropdownMenu.classList.add('hidden');
    }
  });
}

// ADMIN DROPDOWN
if (adminProfileBtn && adminDropdownMenu) {
  adminProfileBtn.addEventListener('click', (e) => {
    e.stopPropagation(); // Prevents window event from firing immediately
    adminDropdownMenu.classList.toggle('hidden');
  });

  window.addEventListener('click', (e) => {
    if (!adminProfileBtn.contains(e.target) && !adminDropdownMenu.contains(e.target)) {
      adminDropdownMenu.classList.add('hidden');
    }
  });
}
  </script>